<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³ØªØ§Ø± Ø¬ÙŠÙ…Ø² | STAR GAMES</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com" rel="stylesheet">
    
    <!-- Ù…ÙƒØªØ¨Ø§Øª Firebase Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© -->
    <script src="https://www.gstatic.com"></script>
    <script src="https://www.gstatic.com"></script>
    <script src="https://www.gstatic.com"></script>

    <style>
        body { font-family: 'Changa', sans-serif; background: #05070a; color: #f8fafc; overflow-x: hidden; }
        .neon-text { text-shadow: 0 0 10px rgba(59, 130, 246, 0.8); }
        .game-card { transition: all 0.3s ease; border: 1px solid #1e293b; }
        .game-card:hover { transform: translateY(-5px); border-color: #3b82f6; box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); }
    </style>
    
    <!-- ÙƒÙˆØ¯ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ -->
    <script src="https://pl28773861.effectivegatecpm.com"></script>
</head>
<body>

    <!-- Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
    <div class="text-center py-2 bg-black/40 border-b border-blue-900/20">
        <script async="async" data-cfasync="false" src="https://pl28772591.effectivegatecpm.com"></script>
        <div id="container-41c60b05cbd1c79de0dbdf46be857cd8"></div>
    </div>

    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header class="p-4 bg-slate-950/90 backdrop-blur-md border-b border-blue-500/20 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <div class="text-2xl font-black neon-text italic">STAR<span class="text-blue-500">GAMES</span></div>
            <div class="flex items-center gap-3">
                <button onclick="loginWithGoogle()" class="text-xs bg-blue-600 hover:bg-blue-700 px-4 py-1.5 rounded-xl transition">Ø¯Ø®ÙˆÙ„ ğŸ‘¤</button>
                <div class="bg-blue-900/30 px-4 py-1.5 rounded-full border border-blue-400/20 flex items-center gap-2">
                    <span id="userPoints" class="font-bold text-yellow-400">0</span> <span class="text-xs">ğŸª™</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Ø´Ø¨ÙƒØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ -->
    <main class="container mx-auto p-6 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6" id="gameGrid">
        <!-- Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ -->
    </main>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù„Ø¹Ø¨ -->
    <div id="gameRoom" class="fixed inset-0 bg-slate-950 hidden z-[100] flex flex-col">
        <div class="p-4 bg-slate-900 border-b border-blue-900/50 flex justify-between items-center">
            <button onclick="exitGame()" class="bg-red-500/20 hover:bg-red-500 text-red-500 hover:text-white px-6 py-2 rounded-xl text-sm transition-all font-bold">Ø¥Ù†Ù‡Ø§Ø¡ ÙˆØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø· ğŸ’°</button>
            <div class="text-yellow-400 font-bold bg-yellow-400/10 px-4 py-1 rounded-lg border border-yellow-400/20">
                + <span id="sessionPoints">0</span>
            </div>
        </div>
        <iframe id="gFrame" class="w-full h-full border-none bg-white"></iframe>
    </div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase (Ø³ÙŠØªÙ… Ø±Ø¨Ø·Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¨Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø®Ø§ØµØ©)
        const firebaseConfig = { apiKey: "AIzaSy...", authDomain: "games-c6.firebaseapp.com", projectId: "games-c6", appId: "1:777:web:abc" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();

        let totalPoints = parseInt(localStorage.getItem('totalPoints')) || 0;
        let sessionTimer;
        document.getElementById('userPoints').innerText = totalPoints;

        // Ù…ØµÙÙˆÙØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ - ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ Ù„Ø¹Ø¨Ø© Ù‡Ù†Ø§ Ø¨Ø³Ù‡ÙˆÙ„Ø©
        const games = [
            { title: "Ù‡Ø±ÙˆØ¨ Ø§Ù„Ù…Ø¹Ø¨Ø¯ 2", img: "https://play-lh.googleusercontent.com", url: "https://www.gamepix.com" },
            { title: "Ø³Ø­Ù‚ Ø§Ù„Ø²ÙˆÙ…Ø¨ÙŠ", img: "https://play-lh.googleusercontent.com", url: "https://www.gamepix.com" },
            { title: "ØªØ­Ø¯ÙŠ Ø§Ù„Ø³ÙƒÙŠÙ†", img: "https://play-lh.googleusercontent.com", url: "https://www.gamepix.com" },
            { title: "Ø³Ø¨Ø§Ù‚ Ø§Ù„Ø´ÙˆØ§Ø±Ø¹", img: "https://play-lh.googleusercontent.com", url: "https://www.gamepix.com" }
        ];

        function renderGames() {
            const grid = document.getElementById('gameGrid');
            grid.innerHTML = games.map(g => `
                <div onclick="launchGame('${g.url}')" class="game-card bg-slate-900 rounded-3xl overflow-hidden cursor-pointer">
                    <img src="${g.img}" class="w-full h-32 object-cover opacity-80 hover:opacity-100 transition">
                    <div class="p-4 text-center">
                        <h3 class="font-bold text-xs truncate">${g.title}</h3>
                        <div class="text-[10px] text-blue-400 mt-1">Ø§Ù„Ø¹Ø¨ ÙˆØ§Ø¬Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø§Ø· âš¡</div>
                    </div>
                </div>
            `).join('');
        }

        function launchGame(url) {
            document.getElementById('gFrame').src = url;
            document.getElementById('gameRoom').classList.remove('hidden');
            let sPoints = 0;
            sessionTimer = setInterval(() => {
                sPoints += 2;
                document.getElementById('sessionPoints').innerText = sPoints;
            }, 5000);
        }

        function exitGame() {
            clearInterval(sessionTimer);
            let sPoints = parseInt(document.getElementById('sessionPoints').innerText);
            totalPoints += sPoints;
            localStorage.setItem('totalPoints', totalPoints);
            document.getElementById('userPoints').innerText = totalPoints;
            
            // ØªÙ†Ø¨ÙŠÙ‡ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
            alert(`Ù…Ø¨Ø±ÙˆÙƒ! Ø±Ø¨Ø­Øª ${sPoints} Ù†Ù‚Ø·Ø© Ø¬Ø¯ÙŠØ¯Ø© ğŸ‰`);

            document.getElementById('gameRoom').classList.add('hidden');
            document.getElementById('gFrame').src = "";
            document.getElementById('sessionPoints').innerText = "0";
        }

        function loginWithGoogle() {
            alert("Ù†Ø¸Ø§Ù… Google Login Ù‚ÙŠØ¯ Ø§Ù„ØªØ¬Ù‡ÙŠØ² ÙÙŠ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Firebase!");
        }

        renderGames();
    </script>
</body>
</html>
